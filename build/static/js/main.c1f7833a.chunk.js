(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(24),l=a.n(r),s=(a(80),a(17)),i=a(18),c=a(21),d=a(19),u=a(20),m=a(8),g=a(121),h=a(123),f=a(128),p=a(71),E=a(28),v=a(127),b=a(126),y=a(125),x=a(68),w=a(120),A=a(124),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:"",status:"",show:!1},a.submitLogin=function(e){var t=a.state,n=t.email,o=t.password;m.auth().signInWithEmailAndPassword(n,o).then(function(){}).catch(function(e){var t=e.code,a=e.message;console.log(t),console.log(a)})},a.createAccount=function(e){var t=a.state,n=t.email,o=t.password;m.auth().createUserWithEmailAndPassword(n,o).then(function(){m.auth().onAuthStateChanged(function(e){m.database().ref("users/".concat(e.uid)).set({dogdates:" ",bio:"Enter dog bio here",dogAge:"Age of dog",dogBreed:"Breed of dog",dogName:"Dogs name",first:"Your first name",last:"your Last name"})})}).catch(function(e){var t=e.code,a=e.message;console.log(t),console.log(a)})},a.loginValue=function(e){"email"===e.target.id?a.setState({email:e.target.value}):a.setState({password:e.target.value})},a.logOut=function(e){m.auth().signOut().then(function(){}).catch(function(e){})},a.changVal=function(){a.setState({show:!0})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.auth().onAuthStateChanged(function(t){t?e.setState({status:!1}):e.setState({status:!0})})}},{key:"render",value:function(){return this.state.status?o.a.createElement(v.a,{bg:"light",expand:"lg"},o.a.createElement(v.a.Brand,{href:"#home"},"React-Bootstrap"),o.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(b.a,{className:"mr-auto justify-content-end"},o.a.createElement(b.a.Link,{href:"/"},"Home")),o.a.createElement(y.a,{inline:!0},o.a.createElement(x.a,{type:"email",placeholder:"Email",className:"mr-sm-2",id:"email",onChange:this.loginValue}),o.a.createElement(x.a,{type:"password",placeholder:"Password",className:"mr-sm-2",id:"password",onChange:this.loginValue}),o.a.createElement(w.a,{variant:"outline-success",onClick:this.submitLogin},"Login"),o.a.createElement(w.a,{variant:"outline-success",onClick:this.createAccount},"Sign Up")))):o.a.createElement(v.a,{bg:"light",expand:"lg"},o.a.createElement(v.a.Brand,{href:"#home"},"React-Bootstrap"),o.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(b.a,{className:"mr-auto justify-content-end"},o.a.createElement(b.a.Link,{href:"/"},"Home"),o.a.createElement(b.a.Link,{href:"#/profile"},"Profile"),o.a.createElement(b.a.Link,{href:"#/message"},"Message")),o.a.createElement(b.a.Link,{href:"/"},o.a.createElement(w.a,{variant:"outline-success",onClick:this.logOut},"Logout")),o.a.createElement(w.a,{onClick:this.changVal},"Test"),o.a.createElement(A.a,{show:this.state.show},o.a.createElement(A.a.Header,{closeButton:!0},o.a.createElement(A.a.Title,null,"Modal heading")),o.a.createElement(A.a.Body,null,"Woohoo, you're reading this text in a modal!"),o.a.createElement(A.a.Footer,null,o.a.createElement(w.a,{variant:"secondary"},"Close"),o.a.createElement(w.a,{variant:"primary"},"Save Changes")))))}}]),t}(n.Component),D=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(n.Component),j=a(70),I=a(122),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",dogName:"",dogBreed:"",dogAge:"",firstName:"",lastName:"",bio:"",dogdates:[],loaded:!1},a.storeInfo=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value))},a.updateInfo=function(e){var t=a.state,n=t.dogName,o=t.dogAge,r=t.dogBreed,l=t.firstName,s=t.lastName,i=t.bio,c=m.auth().currentUser;m.database().ref("/users/"+c.uid).once("value").then(function(e){null!=c&&m.database().ref("users/".concat(c.uid)).set({dogdates:e.val().dogdates,bio:i,dogAge:o,dogBreed:r,dogName:n,first:l,last:s})})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.auth().onAuthStateChanged(function(t){e.setState({email:t.email}),m.database().ref("/users/"+t.uid).once("value").then(function(t){e.setState({dogName:t.val().dogName,dogAge:t.val().dogAge,dogBreed:t.val().dogBreed,firstName:t.val().first,lastName:t.val().last,bio:t.val().bio}),t.child("dogdates").forEach(function(t){e.state.dogdates.push(t.val())}),e.setState({loaded:!0})})})}},{key:"render",value:function(){var e=this.state,t=e.dogName,a=e.dogAge,n=e.dogBreed,r=e.firstName,l=e.lastName,s=e.bio,i=e.loaded,c=e.dogdates,d=[],u=[];return i&&c.forEach(function(e){"yes"===e.status?d.push(e):"no"===e.status&&u.push(e)}),o.a.createElement(g.a,null,o.a.createElement(f.a,null,o.a.createElement(f.a.Body,null,o.a.createElement("img",{src:"https://pawedin.com/system/pets/default_images/default_pet.jpg",width:"200",height:"200",alt:"placeholder"}),o.a.createElement(y.a,null,o.a.createElement(y.a.Group,{controlId:"dogName"},o.a.createElement(y.a.Control,{type:"text",value:t,onChange:this.storeInfo})),o.a.createElement(y.a.Group,{controlId:"dogBreed"},o.a.createElement(y.a.Control,{type:"text",value:n,onChange:this.storeInfo})),o.a.createElement(y.a.Group,{controlId:"dogAge"},o.a.createElement(y.a.Control,{type:"text",value:a,onChange:this.storeInfo})),o.a.createElement(y.a.Group,{controlId:"firstName"},o.a.createElement(y.a.Control,{type:"text",value:r,onChange:this.storeInfo})),o.a.createElement(y.a.Group,{controlId:"lastName"},o.a.createElement(y.a.Control,{type:"text",value:l,onChange:this.storeInfo})),o.a.createElement(y.a.Group,{controlId:"bio"},o.a.createElement(y.a.Control,{as:"textarea",rows:"3",value:s,onChange:this.storeInfo})),o.a.createElement(w.a,{variant:"primary",type:"button",onClick:this.updateInfo},"Update"))),o.a.createElement(g.a,null,o.a.createElement("h2",null,"Play date friends"),o.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Dog"),o.a.createElement("th",null,"Owner"))),o.a.createElement("tbody",null,d.map(function(e){return o.a.createElement("tr",{key:e.first+e.last},o.a.createElement("td",null,e.dogName),o.a.createElement("td",null,e.first," ",e.last))})))),o.a.createElement(g.a,null,o.a.createElement("h2",null,"Maybe later friends"),o.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Dog"),o.a.createElement("th",null,"Owner"))),o.a.createElement("tbody",null,u.map(function(e){return o.a.createElement("tr",{key:e.first+e.last},o.a.createElement("td",null,e.dogName),o.a.createElement("td",null,e.first," ",e.last))}))))))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={uFirst:"",uLast:"",uEmail:"",dogAge:"",dogBreed:"",dogName:"",dogTemp:"",dogid:"",dogimg:null,isLoadingInfo:!1,isLoadingDog:!1},a.loadApi=function(e){!1===a.state.isLoadingInfo&&!1===a.state.isLoadingDog?a.loadDetailsPerson():!0===a.state.isLoadingInfo&&!1===a.state.isLoadingDog&&a.loadDetailsDog()},a.loadDetailsDname=function(e){fetch("https://randomuser.me/api/").then(function(e){return e.json()}).then(function(e){/^[a-zA-Z]+$/.test(e.results[0].name.first)?a.setState({dogName:e.results[0].name.first}):a.loadDetailsDname()})},a.loadDetailsPerson=function(e){fetch("https://randomuser.me/api/").then(function(e){return e.json()}).then(function(e){var t=/^[a-zA-Z]+$/;t.test(e.results[0].name.first)&&t.test(e.results[0].name.last)?(a.setState({uFirst:e.results[0].name.first,uLast:e.results[0].name.last,uEmail:e.results[0].email,isLoadingInfo:!0}),a.loadDetailsDname()):a.loadDetailsPerson()})},a.loadDetailsDog=function(e){fetch("https://api.thedogapi.com/v1/breeds/search?q=".concat(a.state.uFirst[0])).then(function(e){return e.json()}).then(function(e){for(var t=0;t<e.length;t++)if(e[t].name[0].toLowerCase()===a.state.uFirst[0].toLowerCase()){a.setState({dogBreed:e[t].name,isLoadingDog:!0}),a.setState({dogAge:Math.floor(10*Math.random()+1)}),a.setState({dogid:e[t].id}),a.setState({dogTemp:e[t].temperament}),"undefined"===typeof e[t].temperament&&a.setState({dogTemp:"Happy, Loving, Kind"}),null===a.state.dogimg&&fetch("https://api.thedogapi.com/v1/images/search?breed_ids=".concat(a.state.dogid)).then(function(e){return e.json()}).then(function(e){0===e.length?a.setState({dogimg:"https://pawedin.com/system/pets/default_images/default_pet.jpg"}):a.setState({dogimg:e[0].url})});break}})},a.create_UUID=function(e){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)})},a.yesDogs=function(e){var t=a.create_UUID();m.auth().onAuthStateChanged(function(e){e&&m.database().ref("users/".concat(e.uid,"/dogdates/").concat(t)).set({dogAge:a.state.dogAge,dogBreed:a.state.dogBreed,dogName:a.state.dogName,dogImage:a.state.dogimg,dogTemp:a.state.dogTemp,email:a.state.uEmail,first:a.state.uFirst,last:a.state.uLast,status:"yes"})}),a.setState({isLoadingDog:!1,isLoadingInfo:!1,dogimg:null}),a.loadApi()},a.noDogs=function(e){var t=a.create_UUID();m.auth().onAuthStateChanged(function(e){e&&m.database().ref("users/".concat(e.uid,"/dogdates/").concat(t)).set({dogAge:a.state.dogAge,dogBreed:a.state.dogBreed,dogName:a.state.dogName,dogImage:a.state.dogimg,dogTemp:a.state.dogTemp,email:a.state.uEmail,first:a.state.uFirst,last:a.state.uLast,status:"no"})}),a.setState({isLoadingDog:!1,isLoadingInfo:!1,dogimg:null}),a.loadApi()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isLoadingInfo,n=t.isLoadingDog,r=t.uEmail,l=t.uFirst,s=t.uLast,i=t.dogAge,c=t.dogBreed,d=t.dogName,u=t.dogimg,m=t.dogTemp;return!1!==n&&!1!==a||this.loadApi(),!1===n||!1===a?o.a.createElement(g.a,null,o.a.createElement(h.a,{animation:"border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading..."))):!0===n&&!0===a?o.a.createElement(p.a,null,o.a.createElement(C,null),o.a.createElement(E.a,{exact:!0,path:"/",render:function(){return o.a.createElement(g.a,null,o.a.createElement(f.a,null,o.a.createElement(f.a.Body,null,o.a.createElement("img",{src:u,alt:"Dog Img",height:"200",width:"200"}),o.a.createElement("p",{id:""},c),o.a.createElement("p",{id:""},i),o.a.createElement("p",null,"Hello my name is ",d," and I am ",m,"."),o.a.createElement("p",null,"My owner is called ",l," ",s,"."),o.a.createElement("p",null,"You can contact my owner at ",r,"."),o.a.createElement("button",{onClick:e.yesDogs},"Playdate"),o.a.createElement("button",{onClick:e.noDogs},"No Thanks"))))}}),o.a.createElement(E.a,{path:"/profile",render:function(){return o.a.createElement(L,null)}}),o.a.createElement(D,null)):void 0}}]),t}(n.Component),O=(a(117),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(N,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.initializeApp({apiKey:"AIzaSyD2bxg_sJcq3m625n7tDHAp_nkMjGtUdOw",authDomain:"dogdata-3200f.firebaseapp.com",databaseURL:"https://dogdata-3200f.firebaseio.com",projectId:"dogdata-3200f",storageBucket:"dogdata-3200f.appspot.com",messagingSenderId:"1085718428729",appId:"1:1085718428729:web:b95fef7c3f7b8e31"}),l.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,a){e.exports=a(118)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.c1f7833a.chunk.js.map